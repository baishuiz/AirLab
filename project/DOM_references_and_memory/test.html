<!DOCTYPE html>
<body>
<button id="gen">生成div</button>
<button id="ref_all">引用所有div</button>
<button id="ref_single">引用单个div</button>
<button id="del">删除引用</button>
<script>
var COUNT = 50000;

document.getElementById("gen").addEventListener("click", function() {
    var body = document.body;
	for (var i = 0; i < COUNT; ++i) {
		var div = document.createElement("div");
		div.id = i;
		body.appendChild(div);
		delete div;
	}
});

var divs = [];
document.getElementById("ref_all").addEventListener("click", function() {
	for (var i = 0; i < COUNT; ++i) {
		divs.push(document.getElementById(i));
	}
});

document.getElementById("ref_single").addEventListener("click", function() {
	var div = divs.push(document.getElementById("0"));
	for (var i = 0; i < COUNT; ++i) {
		divs.push(div);
	}
});

document.getElementById("del").addEventListener("click", function() {
	divs = [];
});
</script>
</body>